!function(e){e(function(){let o="";const n=e(".post"),t=e("#quote-submission-form");e("#new-quote-btn").on("click",function(t){t.preventDefault(),o=document.URL,e.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(o){n.empty(),n.append(`<div class="entry-content">\n            ${o[0].content.rendered}\n          </div>\n          <div class="entry-meta">\n            <h2 class="entry-title">&mdash; ${o[0].title.rendered}</h2>\n            <span class="source">  \n            </span>\n          </div>`),o[0]._qod_quote_source_url.length>0?e(".source").append(`&nbsp;,<a href="${o[0]._qod_quote_source_url}">&nbsp;${o[0]._qod_quote_source}</a>`):o[0]._qod_quote_source.length>0?e(".source").append(`&nbsp;, ${o[0]._qod_quote_source}`):e(".source").append(o[0]._qod_quote_source);const t=o[0];history.pushState(null,null,qod_vars.home_url+"/"+t.slug)}).fail(function(){alert("Oops!")})}),e(window).on("popstate",function(){window.location.replace(o)}),t.on("submit",function(o){o.preventDefault(),function(){const o=e("#quote-author").val(),n=e("#quote-content").val(),s=e("#quote-source").val(),u=e("#quote-source-url").val();e.ajax({method:"POST",url:qod_vars.rest_url+"wp/v2/posts",data:{title:o,content:n,_qod_quote_source:s,_qod_quote_source_url:u,status:"pending"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.nonce)}}).done(function(o){console.log(o),t.slideUp(1e3),e(".quote-submission").append("<br>Thanks, your quote submission was received!")}).fail(function(){e(".entry-header").append("<br><h2>Something went wrong!</h2>")})}()})})}(jQuery);