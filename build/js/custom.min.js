!function(e){e(document).ready(function(){let o="";e("#new-quote-btn").on("click",function(n){n.preventDefault(),o=document.URL,e.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(o){e(".post").empty(),e(".post").append(`<div class="entry-content">\n            ${o[0].content.rendered}\n          </div>\n          <div class="entry-meta">\n            <h2 class="entry-title">&mdash; ${o[0].title.rendered}</h2>\n            <span class="source">  \n            </span>\n          </div>`),o[0]._qod_quote_source_url.length>0?e(".source").append(`&nbsp;,<a href="${o[0]._qod_quote_source_url}">&nbsp;${o[0]._qod_quote_source}</a>`):o[0]._qod_quote_source.length>0?e(".source").append(`&nbsp;, ${o[0]._qod_quote_source}`):e(".source").append(o[0]._qod_quote_source);const n=o[0];history.pushState(null,null,qod_vars.home_url+"/"+n.slug)}).fail(function(e){console.log(e)})}),e(window).on("popstate",function(){window.location.replace(o)}),e("#quote-submission-form").on("submit",function(o){o.preventDefault(),function(){const o=e("#quote-author").val(),n=e("#quote-content").val(),t=e("#quote-source").val(),s=e("#quote-source-url").val();e.ajax({method:"POST",url:qod_vars.rest_url+"wp/v2/posts",data:{title:o,content:n,_qod_quote_source:t,_qod_quote_source_url:s,status:"Pending"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.nonce)}}).done(function(o){console.log(o),e("#quote-submission-form").slideUp(1e3),e(".quote-submission").append("<br>Thanks, your quote submission was received!")}).fail(function(){console.log("something went wrong")})}()})})}(jQuery);