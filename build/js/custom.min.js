!function(o){o(document).ready(function(){let e="";o("#new-quote-btn").on("click",function(n){n.preventDefault(),e=document.URL,o.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(e){o(".post").empty(),o(".post").append(`<div class="entry-content">\n            ${e[0].content.rendered}\n          </div>\n          <div class="entry-meta">\n            <h2 class="entry-title">&mdash; ${e[0].title.rendered}</h2>\n            <span class="source">  \n            </span>\n          </div>`),e[0]._qod_quote_source_url.length>0?o(".source").append(`&nbsp;,<a href="${e[0]._qod_quote_source_url}">&nbsp;${e[0]._qod_quote_source}</a>`):e[0]._qod_quote_source.length>0?o(".source").append(`&nbsp;, ${e[0]._qod_quote_source}`):o(".source").append(e[0]._qod_quote_source);const n=e[0];history.pushState(null,null,qod_vars.home_url+"/"+n.slug)}).fail(function(o){console.log(o)})}),o(window).on("popstate",function(){window.location.replace(e)}),o("#quote-submission-form").on("submit",function(e){e.preventDefault(),function(){const e=o("#quote-author").val(),n=o("#quote-content").val(),t=o("#quote-source").val(),s=o("#quote-source-url").val();o.ajax({method:"POST",url:qod_vars.rest_url+"wp/v2/posts",data:{title:e,content:n,_qod_quote_source:t,_qod_quote_source_url:s},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",qod_vars.nonce)}}).done(function(e){console.log(e),o("#quote-submission-form").slideUp("slow"),o(".quote-submission").append("<br>Thanks, your quote submission was received!")}).fail(function(){console.log("something went wrong")})}()})})}(jQuery);